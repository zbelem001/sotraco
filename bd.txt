Vue globale des couches
ğŸ“± Couche PrÃ©sentation (Mobile)

MapView

TripPlannerView

AlertView

AvatarView

ğŸ§  Couche MÃ©tier (Core)

User

Bus

Line

Stop

Trip

Route

Location

Avatar

Alert

ğŸŒ Couche Services

GeolocationService

RoutingService

ETAService

CostEstimationService

AlertService

OfflineMapService

ğŸ—„ï¸ Couche DonnÃ©es

LocationRepository

UserRepository

TransportRepository

ï¿½ï¿½ 2ï¸âƒ£ Classes mÃ©tier principales (trÃ¨s important)
ğŸ‘¤ User
User
- userId
- name
- phoneNumber
- avatarId
- location
- isLocationEnabled
- reliabilityScore
- friendsList


MÃ©thodes

enableLocation()

disableLocation()

updateLocation()

reportAlert()

joinBus()

ğŸš Bus
Bus
- busId
- lineId
- currentLocation
- direction
- speed
- lastUpdateTime


MÃ©thodes

updateLocation()

calculateETA(stop)

isActive()

ğŸ‘‰ La position est calculÃ©e Ã  partir des utilisateurs Ã  bord.

ğŸ›£ï¸ Line
Line
- lineId
- name
- color
- stopsList
- averageSpeed
- baseFare


MÃ©thodes

getNextStops()

getFare()

getAverageSpeed()

ğŸš Stop
Stop
- stopId
- name
- location
- linesServing


MÃ©thodes

getNearbyStops(radius)

getIncomingBuses()

ğŸ§­ Trip
Trip
- tripId
- startLocation
- endLocation
- routes
- estimatedTime
- estimatedCost


MÃ©thodes

calculateTrip()

optimizeTrip()

getSummary()

ğŸ”€ Route
Route
- routeId
- line
- stopsSequence
- walkingDistance


MÃ©thodes

calculateDuration()

calculateCost()

ğŸ“ Location
Location
- latitude
- longitude
- timestamp


MÃ©thodes

calculateDistance(otherLocation)

ğŸ‘¥ Avatar
Avatar
- avatarId
- userId
- position
- visibilityStatus


MÃ©thodes

show()

hide()

updatePosition()

âš ï¸ Alert
Alert
- alertId
- type
- description
- location
- lineId
- createdBy
- timestamp
- validityDuration
- votes


MÃ©thodes

validate()

expire()

addVote()

ğŸ”§ 3ï¸âƒ£ Classes de services (logique mÃ©tier)
ğŸ“¡ GeolocationService
- getCurrentLocation()
- startTracking()
- stopTracking()

ğŸ§® RoutingService
- findBestRoute(start, end)
- findNearbyStops(location)


ğŸ‘‰ Utilise Dijkstra / A*

â±ï¸ ETAService
- calculateETA(bus, stop)
- predictArrivalTime()

ğŸ’° CostEstimationService
- estimateTripCost(trip)
- estimateRouteCost(route)

ğŸš¨ AlertService
- createAlert()
- getActiveAlerts()
- validateAlert()

ï¿½ï¿½ï¸ OfflineMapService
- downloadMap(city)
- loadOfflineMap()

ğŸ—„ï¸ 4ï¸âƒ£ Couche accÃ¨s aux donnÃ©es (repositories)
UserRepository
- saveUser()
- getUserById()

TransportRepository
- getLines()
- getStops()
- getBuses()

LocationRepository
- saveLocation()
- getLastLocations()

ğŸ”— 5ï¸âƒ£ Relations entre classes (rÃ©sumÃ© UML)

User â possÃ¨de â Avatar

User â gÃ©nÃ¨re â Alert

User â alimente â Bus

Bus â appartient Ã  â Line

Line â dessert â Stop

Trip â contient â Route

Route â utilise â Line

Stop â reÃ§oit â Bus
